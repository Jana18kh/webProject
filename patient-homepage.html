<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Patient Homepage</title>
</head>
<body>

<div class="container">

    <h1>Welcome, <span id="patient-name">[Patient Name]</span></h1>

    <div class="patientInfo">
        <h2>Your Information</h2>
        <p><strong>Email:</strong> <span id="patientEmail">[Email]</span></p>
        <p><strong>Date of Birth:</strong> <span id="patientDob">January 1, 1985</span></p>
        <p><strong>Gender:</strong> <span id="patientGender">Male</span></p>
    </div>

    <h2>Your Appointments</h2>

    <a href="/book-appointment" class="btn-link">Book a New Appointment</a>

    <table class="appointments-table">
        <thead>
            <tr>
                <th>Date</th>
                <th>Time</th>
                <th>Doctor's Name</th>
                <th>Doctor's Photo</th> 
                <th>Appointment Status</th>
                <th>Cancel</th>
            </tr>
        </thead>
        <tbody id="appointments-list">
            <!-- Appointment rows will be here -->
        </tbody>
    </table>

    <div class="sign-out">
        <a href="/home" onclick="signOut()">Sign Out</a>
    </div>
</div>

<script>
    const patientEmail = localStorage.getItem('email');
    
    document.getElementById('patientEmail').textContent = patientEmail;
    document.getElementById('patient-name').textContent = patientEmail.split('@')[0];


    const appointments = [
        { 
            date: 'January 25, 2025', 
            time: '10:30 AM', 
            doctorName: 'Dr. Mona Ahmed', 
            status: 'Confirmed', 
            doctorPhoto: 'doctor1.jpg'  
        },
        { 
            date: 'February 2, 2025', 
            time: '2:00 PM', 
            doctorName: 'Dr. Tariq Fahad', 
            status: 'Pending', 
            doctorPhoto: 'doctor2.jpg' 
        }
    ];

    const appointmentsList = document.getElementById('appointments-list');
    appointments.forEach(appointment => {
        const row = document.createElement('tr');
        row.innerHTML = `
            <td>${appointment.date}</td>
            <td>${appointment.time}</td>
            <td>${appointment.doctorName}</td>
            <td><img src="${appointment.doctorPhoto}" alt="${appointment.doctorName}" width="50" height="50"></td>
            <td>${appointment.status}</td>
            <td><a href="/cancel-appointment?id=${appointment.date}" class="btn-link">Cancel</a></td>
        `;
        appointmentsList.appendChild(row);
    });

    function signOut() {
        localStorage.removeItem('email');
        localStorage.removeItem('role');
        window.location.href = '/home';  
    }
</script>

</body>
</html>
